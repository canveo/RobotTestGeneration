<?xml version="1.0"?>
<launch>

  <arg name="ignore_collisions" default="false" />
  <arg name="render_stereo" default="0" />

  <arg name="test_name" default="test.txt"/>
  <arg name="test_location" default="/home/autosoftlab/Desktop/RobotTestGeneration"/>
  
  <arg name="save_name" default="performance.txt"/>
  <arg name="save_location" default="/home/autosoftlab/Desktop/RobotTestGeneration"/>

  <arg name="ip" default="127.0.01" />
  <arg name="port" default="25001" />

  <!-- Set the requested velocity, -1 is waypoint mode -->
  <arg name="speed" default="10" />

  <include file="$(find flightcontroller)/launch/angle.launch"/>
  <include file="$(find flightcontroller)/launch/velocity.launch"/>
  <include file="$(find flightcontroller)/launch/position.launch">
    <arg name="speed" value="$(arg speed)"/>
  </include>

  <!--include core flightgoggles launch file-->
  <include file="$(find flightgoggles)/launch/core.launch">
    <arg name="render_stereo" value="$(arg render_stereo)"/>
    <arg name="ignore_collisions" value="$(arg ignore_collisions)"/>
    <arg name="ip" value="$(arg ip)"/>
    <arg name="port" value="$(arg port)"/>
  </include>


  <node pkg="flightcontroller" type="navigation.py" name="goal_tester_node" output="screen">
    <param name="test_location" type="string" value="$(arg test_location)"/>
    <param name="test_name" type="string" value="$(arg test_name)"/>
  </node>

  <node pkg="flightcontroller" type="performance_analyzer.py" name="performance_tester_node">
    <param name="save_location" type="string" value="$(arg save_location)"/>
    <param name="save_name" type="string" value="$(arg save_name)"/>
  </node>

</launch>